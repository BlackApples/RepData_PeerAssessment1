source('~/R/4-ExploratoryDataAnalysis/test.R')
source('~/R/4-ExploratoryDataAnalysis/test.R')
dataMatrix2
dataMatrix2
sample(1:100,size=40,replace=FALSE)
dataMatrix2[7]
dataMatrix2[500]
dataMatrix2[400]
source('~/R/4-ExploratoryDataAnalysis/test.R')
source('~/R/4-ExploratoryDataAnalysis/test.R')
library(RColorBrewer)
?brewer.pal
library(swirl)
rm(list=ls())
swirl()
dist(dataFrame)
hc<-hclust(distxy)
plot(ht)
plot(hc)
plot(as.dendrogram(hc))
abline(h=1.5,col="blue")
abline(h=.4,col="red")
5
abline(h=.05,col="red")
12
abline(h=.05,col="green")
dis(dFsm)
dist(dFsm)
hc
heatmap(dataMatrix,col=cm.colors(25))
heatmap(mt)
mt
plot(denmt)
distmt
cmat
points(cx,cy,col=c("read","orange","purple"),pch=3,cex=2,lwd=2)
points(cx,cy,col=c("red","orange","purple"),pch=3,cex=2,lwd=2)
mdist(x,y,cx,cy)
apply(disTmp,2,which.min)
apply(distTmp,2,which.min)
points(x,y,pch=19,cex=2,col=cols1[newClust])
tapply(x,newClust,mean)
tapply(y,newClust,mean)
points(newCx,newCy,col=cols1,pch=8,cex=2,lwd=2)
play()
?points
?cex
??cex
resume()
nxt()
mdist(x,y,newCx,newCy)
apply(disTmp2,2,which.min)
apply(distTmp2,2,which.min)
points(x,y,pch=19,cex=2,col=cols1[newClust2])
tapply(x,newClust2,mean)
tapply(y,newClust2,mean)
points(finalCx,finalCy,col=cols1,pch=9,cex=2,lwd=2)
kmeans(dataFrame,3)
kmObj$iter
plot(x,y,col=kmObj$cluster,pch=19,cex=2)
points(kmObj$centers,col=c("black","red","green"),pch=3,cex=3,lwd=3)
plot(x,y,col=kmeans(dataFrame,6)$cluster,pch=19,cex=2)
plot(x,y,col=kmeans(dataFrame,6)$cluster,pch=19,cex=2)
plot(x,y,col=kmeans(dataFrame,6)$cluster,pch=19,cex=2)
head(dataMatrix)
heatmap(dataMatrix)
myedit("addPatt.R")
souce("addPatt.R",local=TRUE)
source("addPatt.R",local=TRUE)
heatmap(dataMatrix)
mat
svd(mat)
matu%*%diag%*%t(matv)
svd(scale(mat))
prcomp(scale(mat))
svd$v[,1]
svd1$v[,1]
svd1$d
head(constantMatrix)
svd2$d
svd2$v[,1:2]
svd2$d
dim(faceData)
svd1$d[1]*svd1$u[,1]*t(svd1$v[,1])
a1<-svd1$d[1]*svd1$u[,1]*t(svd1$v[,1])
a1<-(svd1$u[,1]*svd1$d[1])%*%t(svd1$v[,1])
myImage(a1)
a1<-(svd1$u[,1:2]%*%diag(svd1$d[1:2]))%*%t(svd1$v[,1:2])
a1<-svd1$u[,1:2]%*%diag(svd1$d[1:2])%*%t(svd1$v[,1:2])
a2<-svd1$u[,1:2]%*%diag(svd1$d[1:2])%*%t(svd1$v[,1:2])
myImage(a2)
myImage(svd1$u[,1:5]%*%diag(svd1$d[1:5])%*%t(svd1$v[,1:5]))
myImage(svd1$u[,1:10]%*%diag(svd1$d[1:10])%*%t(svd1$v[,1:10]))
?range
library(swirl)
swirl()
dim(pm0)
head(pm0)
names
cnames
cnames(strsplit(cnames,'|',fixed=TRUE)
)
cnames<-strsplit(cnames,'|',fixed=TRUE)
cnames
names(pm0)<-make.names(cnames[[1]][wcol])
head(pm0)
x0<-pm0$Sample.Value
str(x0)
mean(is.na(x0))
names(pm1)<make.names(cnames[[1]][wcol])
names(pm1)<-make.names(cnames[[1]][wcol])
dim(pm1)
x1<-pm1$Sample.Value
mean(is.na(x1))
summary(x0)
summary(x1)
boxplot(x0,x1)
boxplot(log10(x0),log10(x1))
negative<-x1<x0
negative<-x1<0
sum(negative,na.rm=T)
sum(negative,na.rm=TRUE)
mean(negative,na.rm=TRUE)
dates<-pm1$Date
str(dates)
dates<-as.Date(as.character(dates),"%Y%m%d")
head(dates)
hist(dates[negative],"month")
str(site0)
noth<-intersect(site0,site1)
both<-intersect(site0,site1)
both
head(pm0)
cnt0<-subset(pm0,State.Code==36 & Site %in% both)
cnt0<-subset(pm0,State.Code==36 & County.site %in% both)
cnt0<-subset(pm0,State.Code==36 & county.site %in% both)
cnt1<-subset(pm1,State.Code==36 & county.site %in% both)
sapply(split(cnt0,cnt0$county.site),nrow)
sapply(split(cnt1,cnt1$county.site),nrow)
pm0sub<-subset(cnt0,county.site=="63.20018")
pm0sub<-subset(cnt0,County.Code==63 & Site.ID==2008)
pm1sub<-subset(cnt1,County.Code==63 & Site.ID==2008)
x0sub<-pm0sub$Sample.Value
x1sub<-pm1sub$Sample.Value
dates0<-as.Date(as.character(pm0sub$Date),"%Y%m%d")
dates1<-as.Date(as.character(pm1sub$Date),"%Y%m%d")
par(mfrow=c(1,2),mar=c(4,4,2,1))
plot(dates0,x0sub,pch=20)
abline(h=median(x0sub),lwd=2,na.rm=TRUE))
abline(h=median(x0sub),lwd=2,na.rm=TRUE)
abline(h=median(x0sub,na.rm=TRUE),lwd=2)
plot(dates1,x1sub,pch=20)
abline(h=median(x1sub,na.rm=TRUE),lwd=2)
rng<-range(x0sub,x1sub,na.rm=TRUE)
rng
mn0<-with(pm0,tapply(Sample.Value,State.Code,mean,na.rm=TRUE))
str(mn0)
mn1<-with(pm1,tapply(Sample.Value,State.Code,mean,na.rm=TRUE))
str(mn1)
summary(mn0)
summary(mn1)
d0<-data.frame(names(mn0),mn0)
d0<-data.frame(state=names(mn0),mean=mn0)
d1<-data.frame(state=names(mn1),mean=mn1)
mrg(d0,d1,set="state)
)
mrg<-merge(d0,d1,set="state")
mrg<-merge(d0,d1,by="state")
dim(mrg)
head(mrg)
with(mrg,plot(rep(1,52),mrg[,2],xlim=c(.5,2.5)))
with(mrg,points(rep(2,52),mrg[,3])
)
segments(rep(1,52),mrg[,2],rep(2,52),mrg[,3])
mrg[mrg$mean.x<mrg$mean.y,]
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
rm(ls=ls())
ls()
rm(ls())
?rm
rm(list=ls())
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
class(NEI)
class(SCC)
headh(SCC)
head(SCC)
head(SCC)
names(SCC)
head(NEI)
table(NEI$Pollutant)
names(NEI)
table(NEI$fips)
head(NEI)
table(NEI$type)
table(NEI$year)
with(NEI,tapply(Emissions,year,sum))
sum(NEI[year==1999,4]
)
sum(NEI[NEI$year==1999,4]
)
table(NEI$year)
sum(NEI[NEI$year==2005,4])
with(NEI,tapply(Emissions,year,sum))
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
total_emissions
plot(total_emissions)
plot(total_emissions,pch=19)
plot(totals[,1],totals[,2],pch=19)
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
plot(totals[,1],totals[,2],pch=19)
class(totals)
names(array)
as.data.frame(with(NEI,tapply(Emissions,year,sum)))
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
plot(totals[,1],totals[,2],pch=19)
totals
totals[,0]
rownames(totals)
plot(as.numeric(rownames(totals),totals,pch=19)
)
)
plot(as.numeric(rownames(totals)),totals,pch=19)
plot(as.numeric(rownames(totals)),totals[,1],pch=19)
x<-with(NEI,tapply(Emissions,year,sum))
rownames(x)
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
plot(as.numeric(rownames(totals)),totals,pch=19)
plot(as.numeric(rownames(totals)),totals,pch=19)
title("Rows")
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
head(NEI)
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
NEI[NEI$fips == "24510",]
NEI_baltimore=NEI[NEI$fips == "24510",]
source('~/R/4-ExploratoryDataAnalysis/plot2.R')
source('~/R/4-ExploratoryDataAnalysis/plot2.R')
source('~/R/4-ExploratoryDataAnalysis/plot2.R')
source('~/R/4-ExploratoryDataAnalysis/plot2.R')
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot2.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
totals=with(NEI_baltimore,tapply(Emissions,year,sum))
with(NEI_baltimore,tapply(Emissions,year,sum))
with(NEI_baltimore,tapply(Emissions,year,Type,sum))
with(NEI_baltimore,tapply(Emissions,c(year,Type),sum))
with(NEI_baltimore,tapply(Emissions,c(year,type),sum))
with(NEI_baltimore,split(Emissions,type))
x<-with(NEI_baltimore,split(Emissions,type))
x
x[[1]]
x<-split(NEI_baltimore,type))
x<-split(NEI_baltimore,type)
x<-split(NEI_baltimore,NEI_baltimore$type)
x
x[[1]]
x[[2]]
table(x[[1]]$year)
table(x[[2]]$year)
table(x[[3]]$year)
table(x[[4]]$year)
source('~/R/4-ExploratoryDataAnalysis/plot1.R')
source('~/R/4-ExploratoryDataAnalysis/plot2.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x=group_by(NEI_baltimore,type)
library(dplyr)
x=group_by(NEI_baltimore,type)
x=group_by(x,year,add=TRUE)
sum(x)
sum(x$Emissions)
summaries(x$Emissions)
x
summarize(x$Emissions)
summarize(x$Emissions)
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
colSums(x)
colSums(x$Emissions)
colSums(x$Emissions,na.rm=TRUE)
lapply(baltimore_by_type,func a(x){tapply(a$Emissions,a$year,sum)})
lapply(baltimore_by_type,function(a){tapply(a$Emissions,a$year,sum)})
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
rownames(totals)
names(totals)
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
qplot(totals)
qplot()
qplot()
class(totals)
class(totals[1])
class(totals[[1]])
one = data.frame(type=names(totals)[1],year=rownames(totals[[1]]),emssions=totals[[1]])
one
View(totals)
View(totals)
one = data.frame(type=names(totals)[1:2],year=rownames(totals[[1:2]]),emssions=totals[[1:2]])
one = data.frame(type=names(totals)[1:2],year=rownames(totals[[1:2]]),emssions=totals[[1:2]])
one = data.frame(type=names(totals)[1],year=rownames(totals[[1]]),emssions=totals[[1]])
one
length(totals)
x=data.frame(type=c(),year=c(),emissions=c())
x
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
xx
x
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x
rm(x)
merge(x,data.frame(type=names(totals)[1],year=rownames(totals[[1]]),emssions=totals[[1]]))
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x
rep(dataframe(),4)
rep(data.frame(),4)
list(4)
rep(rep(data.frame(),4))
?list
vector("list", 4)
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x
join_all(x)
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
join_all(x)
x
join_all(x)
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
?data.table
??data.table
library(data.table)
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x
join_all(x)
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
x
do.call("rbind", x)
rbind(x[[1]],x[[2]])
?do.call
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
headh(NEI)
head(NEI)
SCC[grep("Coal",SCC$EI.Sector),]
SCC_coal = SCC[grep("Coal",SCC$EI.Sector),]
merge(NEI,SCC_coal)
x = merge(NEI,SCC_coal)
head(x)
unique(SCC_coal$SCC)
y=NEI[NEI$SCC %in% unique(SCC_coal$SCC),]
View(SCC_coal)
View(SCC_coal)
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
table(SCC_coal$EI.Sector)
unique(SCC_coal$EI.Sector)
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
coal_by_type
coal_by_type = split(y,y$EI.Sector)
coal_by_type = NEI_coal[NEI_coal$SCC %in% unique(SCC_coal$SCC),]
coal_by_type = NEI[NEI_coal$SCC %in% unique(SCC_coal$SCC),]
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
table(NEI_coal$EI.Sector)
x = SCC_coal$SCC
x = NEI[NEI$SCC %in% SCC_coal$SCC,]
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
rm(list=ls())
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
NEI_coal=merge(NEI,SCC_coal)
NEI_coal$EI.Sector
table(NEI_coal$EI.Sector)
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
totals
q = qplot(rownames(totals),totals)
q
q = qplot(rownames(totals),totals,group=1) + geom_line()
print(q)
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
source('~/R/4-ExploratoryDataAnalysis/plot4.R')
View(SCC)
View(SCC)
source('~/R/4-ExploratoryDataAnalysis/plot5.R')
NEI_b_and_la=NEI[NEI$fips == "24510" | NEI$fips == "06037",]
View(NEI_b_and_la)
View(NEI_b_and_la)
groups = group_by(NEI_b_and_la,fips,year)
summarise(groups,sum(x))
summarise(groups,sum)
summarise(groups,"sum")
library(dplyr)
summarise(groups,"sum")
summarise(groups,sum)
summarise(groups,sum(x))
?summarise
?summarise(groups)
summarise(groups)
groups
summarise(groups,sum(groups$Emissions)
)
summarise(groups,Emissions)
summarise(groups,sum(Emissions))
groups
groups %>% summarise(sumsss=sum(Emissions))
groups %>% summarise(sum(Emissions))
groups = group_by(NEI_b_and_la,fips,year)
groups %>% summarise(sum(Emissions))
sum(groups$Emissions)
summarise(groups,sum(Emissions))
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
groups
summarise(groups,sum(Emissions))
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot3.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
totals
View(NEI_b_and_la)
View(NEI_b_and_la)
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
vector("Baltimore","Los Angeles")
c("Baltimore","Los Angeles")
x=c("Baltimore","Los Angeles")
class(x)
names(x)
rownames(x)
names(x) = c("24510","06037")
x
x[24510]
x["24510"]
mutate(NEI_b_and_la,city=x[fips])
NEI_b_and_la=mutate(NEI_b_and_la,city=x[fips])
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
totals
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
source('~/R/4-ExploratoryDataAnalysis/plot6.R')
setwd("~/R/5-Reproducible Research")
source('~/R/5-Reproducible Research/test.R')
setwd("~/R/5-Reproducible Research/RepData_PeerAssessment1")
unzip("activity.zip")
rm(list=ls())
data = read.csv("activity.csv")
head(data)
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
data = group_by(data,date)
?group_by
??group_by
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
data = group_by(data,date)
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
data
data[is.na(steps),]
data[is.na(data$steps),]
table(data[is.na(data$steps),]$date)
summary(data)
sum(data)
sum(data$steps)
?sum
sum(data$steps,na.rm=TRUE)
tapply(data$steps,data$date,sum)
tapply(data$steps,data$date,sum(x,na.rm=TRUE))
tapply(data$steps,data$date,func(x){sum(x,na.rm=TRUE)})
summarize(data)
data
sum(data,na.rm=TRUE)
sum(data$steps,na.rm=TRUE)
tapply(data$steps,data$date,function(x){sum(x,na.rm=TRUE)})
x=tapply(data$steps,data$date,function(x){sum(x,na.rm=TRUE)})
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
data
sum_dates
names(sum_dates)
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
sum_dates
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
sum_dates
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
title("Frequency of total steps per day")
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
?mean
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
source('~/R/5-Reproducible Research/RepData_PeerAssessment1/assignment_test.R')
